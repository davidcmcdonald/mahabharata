:root{
  --bg: #0b0f14;         /* deep ink */
  --card: #121823;       /* soft navy */
  --muted: #8aa0b2;      /* slate */
  --text: #e8f1f8;       /* almost white */
  --accent: #56b6c2;     /* teal */
  --accent-2:#c678dd;    /* violet */
  --chip: #1a2433;       /* chip bg */
  --highlight: #2a3b27;  /* in-chapter highlight */
  --danger: #b15151;     /* deceased */
  --ok: #5bb27a;         /* alive */
  --focus: #3d6cff;      /* focus ring */
}
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font:16px/1.6 system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
  color:var(--text);
  background:linear-gradient(180deg,#0b0f14, #0b0f14 40%, #0e141c 100%)
}

.container{max-width:1100px;margin:32px auto;padding:0 20px}
.header{display:flex;gap:16px;align-items:center;justify-content:space-between;margin-bottom:16px}
.title{font-weight:700;font-size:clamp(20px,3vw,28px)}
.card{background:var(--card);border:1px solid #172133;border-radius:16px;box-shadow:0 10px 24px rgba(0,0,0,.25);padding:18px}
.row{display:grid;grid-template-columns:1fr;gap:16px}

/* Chapter slider */
.slider-wrap{display:grid;gap:8px}
.slider-head{display:flex;justify-content:space-between;align-items:center}
.slider{width:100%;}
input[type=range]{-webkit-appearance:none;width:100%;height:6px;background:#223048;border-radius:999px;outline:none}
input[type=range]::-webkit-slider-thumb{-webkit-appearance:none;appearance:none;width:18px;height:18px;border-radius:50%;background:var(--accent);cursor:pointer;border:2px solid white}
input[type=range]::-moz-range-thumb{width:18px;height:18px;border-radius:50%;background:var(--accent);border:2px solid white;cursor:pointer}

/* Sections */
h2{font-size:18px;margin:0 0 8px 0}
.subtle{color:var(--muted)}
.grid-2{display:grid;grid-template-columns:1fr;gap:16px}
@media(min-width:900px){
  .grid-2{grid-template-columns:1.2fr .8fr}
}

/* Events/Places lists */
.bullets{margin:0;padding-left:18px}
.bullets li{margin-block:6px}

/* Controls */
.controls{display:flex;flex-wrap:wrap;gap:12px;align-items:center;margin-bottom:12px}
.control{display:flex;align-items:center;gap:8px;background:var(--chip);border:1px solid #26344a;border-radius:12px;padding:8px 10px}
.control input[type=checkbox]{width:16px;height:16px}
.select{appearance:none;background:var(--chip);border:1px solid #26344a;color:var(--text);padding:8px 32px 8px 10px;border-radius:12px;position:relative}
.select:focus{outline:2px solid var(--focus)}
.search{flex:1 1 220px;min-width:220px;background:var(--chip);border:1px solid #26344a;color:var(--text);border-radius:12px;padding:8px 10px}

.sorts{display:flex;gap:8px}
.sorts label{display:flex;gap:6px;align-items:center;background:var(--chip);border:1px solid #26344a;border-radius:999px;padding:6px 10px}

/* Character cards */
.people{display:grid;grid-template-columns:repeat(auto-fill,minmax(240px,1fr));gap:12px}
.person{display:flex;gap:12px;background:#0f1520;border:1px solid #1b273a;border-radius:14px;padding:10px;align-items:flex-start}
.person.in-chapter{background:var(--highlight);border-color:#36513b}
.person.muted{opacity:.45;filter:saturate(.7)}
.avatar{position:relative;width:56px;height:56px;border-radius:12px;overflow:hidden;flex:0 0 56px;border:1px solid #2a364b}
.avatar img{width:100%;height:100%;object-fit:cover;display:block}
.avatar .fallback{position:absolute;inset:0;display:grid;place-items:center;font-weight:700;letter-spacing:.5px;background:linear-gradient(160deg,#24334a,#182232)}

.badges{display:flex;flex-wrap:wrap;gap:6px;margin-top:2px}
.badge{font-size:12px;padding:3px 7px;border-radius:999px;border:1px solid #2a364b;background:#112033;color:#cfe1f4}
.life.alive{border-color:#355a45;background:#13261b;color:#bfe7cd}
.life.deceased{border-color:#5f2b2b;background:#231212;color:#f0c9c9}
.name{font-weight:700}
.aka{font-size:12px;color:var(--muted)}
.desc{font-size:14px;color:#cbdae7}

.legend{margin-top:8px;color:var(--muted);font-size:13px}
.sr{position:absolute;left:-9999px}
 
.avatar {
  position: relative;
  width: 56px;
  height: 56px;
  border-radius: 12px;
  overflow: hidden;
  flex: 0 0 56px;
  border: 1px solid #2a364b;
  background: #24334a; /* fallback bg */
  display: grid;
  place-items: center;
}
.avatar img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: block;
}
.avatar .fallback {
  position: absolute;
  inset: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 700;
  font-size: 18px;
  color: #e8f1f8;
  letter-spacing: 0.5px;
}
